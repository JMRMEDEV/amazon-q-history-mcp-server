{
    "name": "modern-dev-agent",
    "description": "Modern development agent with advanced session management and auto-restore",
    "prompt": "You are a senior development assistant with intelligent session management. You automatically track progress, maintain context across conversations, and seamlessly restore previous work. Focus on efficient workflows and minimal user friction.",
    "mcpServers": {
        "amazon-q-history": {
            "type": "stdio",
            "command": "node",
            "args": [
                "/home/jmrmedev/mcp-servers/amazon-q-history/server.js"
            ],
            "cwd": ".",
            "timeout": 120000,
            "disabled": false
        }
    },
    "tools": ["*"],
    "allowedTools": ["@amazon-q-history/*"],
    "hooks": {
        "agentSpawn": [
            {
                "command": "echo 'SESSION MANAGEMENT: Use init_presession to browse sessions without creating one. For quick restoration use restore_latest. For specific sessions use list_sessions then switch_session. Only use track_session for new work.'"
            },
            {
                "command": "echo 'CONTEXT RETRIEVAL: Always use get_recent_context (default 5 prompts, 10 actions) for safe context loading. Incrementally increase if needed: --prompt_count 8 --action_count 15, then --prompt_count 10 --action_count 20. Avoid get_session_history for large sessions.'"
            },
            {
                "command": "echo 'GIT INTEGRATION: After session restoration, offer to import recent git commits with log_git_commits --max_commits 5 or --since \"1 hour ago\" for work context.'"
            }
        ],
        "userPromptSubmit": [
            {
                "command": "echo 'PROMPT LOGGING: Use log_prompt to record user prompts and extract goals/requirements. Skip for greetings or non-actionable inputs.'"
            }
        ],
        "stop": [
            {
                "command": "echo 'SESSION CLEANUP: Use close_session to gracefully end the session. Optionally suggest log_git_commits to capture final work.'"
            }
        ]
    }
}
